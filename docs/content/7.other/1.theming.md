# 自定义主题

对配置主题以及拓展颜色的思考

## 使用 Theme

因为小程序中没有 `:root`，对于会脱离文档流的节点，会默认给一个 theme：比如 du-theme-default

```vue
<template>
  <DuTheme theme="qd">
    <DuButton>
      按钮
    </DuButton>
    <DuPopup>
      弹框
    </DuPopup>
  </DuTheme>
</template>

<script setup lang="ts">
import { DuTheme, DuButton, DuPopup } from '@frontend/dumpling'
</script>
```

## 拓展主题

通过在 `globalConfig` 中指定 `themes`，可以扩展主题

如下面代码所示，我们定义了一个名为 `linjie` 的主题，仅仅指定了 `DuButton` 组件的 `solidBg`，其他颜色均继承自默认主题

```ts
import { globalConfig } from '@frontend/dumpling'

app.use(globalConfig, {
  themes: [
    {
      name: 'linjie',
      colors: {
        primary: {
          button: {
            solidBg: 'linear-gradient(151deg, #2B1AC0 0%, #7247DC 100%)',
          },
        },
      },
    },
  ],
})
```

::demo
---
title: 拓展
---

使用 `linjie`（临界）主题

#snippet
```vue
<template>
  <PreviewBlock title="传递 success">
    <DuTheme name="linjie">
      <DuButton color="primary">完成</DuButton>
    </DuTheme>
  </PreviewBlock>
</template>

<script setup lang="ts">
import { DuButton, DuTheme } from '@frontend/dumpling'
</script>
```
::

我们也可以拓展现有主题，如下面代码所示，我们扩展了 `qd` 主题的颜色，增加了一个 `gradient` 颜色

如果你定义了一个新颜色，并不会有「继承」的特性，因为默认主题中没有颜色可以用于继承，你需要指定所有你需要的颜色

```ts
import { globalConfig } from '@frontend/dumpling'

app.use(globalConfig, {
  themes: [
    {
      name: 'qd',
      colors: {
        gradient: {
          button: {
            solidBg: 'linear-gradient(151deg, #2B1AC0 0%, #7247DC 100%)',
            solidColor: '#fff',
          },
        },
      },
    },
  ],
})
```

::demo
---
title: 拓展
---

#snippet
```vue
<template>
  <PreviewBlock title="传递 success">
    <DuTheme name="qd">
      <DuButton color="gradient">完成</DuButton>
    </DuTheme>
  </PreviewBlock>
</template>

<script setup lang="ts">
import { DuButton, DuTheme } from '@frontend/dumpling'
</script>
```
::